<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="Ayham's online website"><meta name=keywords content="ayham,personal,blog,linux"><meta name=author content="ayham"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light"><link rel=icon type=image/x-icon href=https://ayham.xyz/pix/avatar/pfp_hu_9b8ef136499e5f25.260c87cca6a67382a9043e12d7bf4dae.png integrity="md5-JgyHzKamc4KpBD4S179Nrg==" crossorigin=anonymous><link rel=stylesheet type=text/css href=https://ayham.xyz/css/nav.dbcff7b67f99ee271630f11e6d609150.css integrity="md5-28/3tn+Z7icWMPEebWCRUA==" crossorigin=anonymous><link rel=stylesheet type=text/css href=https://ayham.xyz/css/footer.e71d515740d85272dc5a068dedc6394b.css integrity="md5-5x1RV0DYUnLcWgaN7cY5Sw==" crossorigin=anonymous><link rel=stylesheet type=text/css href=https://ayham.xyz/css/common.4d89642363d46c847439f85578bb0cf0.css integrity="md5-TYlkI2PUbIR0OfhVeLsM8A==" crossorigin=anonymous><title>Ayham's Online Website | Installing Android 12 On The Motorola One Macro (lima)</title></head><body><center><nav><ul><li><a href=/>[Home]</a></li><li><a href=/projects/>[Projects]</a></li><li><a href=/posts/>[Posts]</a></li><li><a href=/library/>[Library]</a></li><li><a href=/apps/>[Apps]</a></li></ul></nav><hr></center><main><center><h1>Installing Android 12 On The Motorola One Macro (lima)</h1></center>Publish Date: <time datetime=2022-08-02>Aug 2, 2022</time>&nbspLast Update: <time datetime=2022-08-10>Aug 10, 2022</time><br>Tags:<a href=https://ayham.xyz/tags/guide>guide</a>
<a href=https://ayham.xyz/tags/android>android</a><br>417 words, 2 minute(s) to read.<br><br><article><p>Motorola One Macro, codename lima, can surprisingly be upgraded to Android 12.
To be exact, this phone can be upgraded to phh&rsquo;s treble Android 12 GSI. I have
already written a longer
<a href=/posts/hardening-the-one-macro/ title="that article">guide</a> on this phone before, however it lacks some
edge cases. This guide would hopefully attempt to ammend these.</p><p>I originally intended for that article to be a complete guide which works for
all Android versions. Although that is still somewhat true, I decided to rewrite
a standalone article for Android 12. I&rsquo;ve learned some stuff about the phone,
some issues that could arise while updating, which I thought would deserve their
own guide. Now, this is an article attuned to the type of step-by-step, which
is a contrast to the original guide. This article could also hopefully act as a
step-by-step upgrade guide.</p><h1 id=what-do-all-those-files-mean>What do all those files mean?</h1><p><center><img alt=releases.webp src=https://ayham.xyz/pix/posts/android12-lima/releases.9c8e1f2f0253e4119bef45941fd93535.webp integrity="md5-nI4fLwJT5BGb70WUH9k1NQ==" crossorigin=anonymous></center>This image is a list of available phhtreble images to download. For this phone,
the compatible configuration of images is arm64 a/b variants (*-arm64-ab-*).
Also, I was only able to boot vndklite image versions. I have no idea why, but
from my own understanding this is better for OS updates? It should be noted
though, that I couldn&rsquo;t get dynamic updates to work, most probably the phone
does not have dynamic partitions. Ofcourse, we will be downloading the -secure
variant as we will be installing Magisk later on.</p><p>At the time of writing, you can fetch the latest compatiable image as per the
following:</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget https://github.com/phhusson/treble_experimentations/releases/download/v414/system-squeak-arm64-ab-vndklite-floss-secure.img.xz
</span></span></code></pre></td></tr></table></div></div><h1 id=setting-up-the-phone>Setting up the phone</h1><p>You must flash a &lsquo;clean&rsquo; stock image. Grab the latest image from
motostockrom.com. Use my guide in order to flash the stock image. Make sure the
phone boots before continuing on.</p><h1 id=flashing-android-12>Flashing Android 12</h1><p>After setting up stock rom, flash Google&rsquo;s vbmeta disabling verity and
verification.</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>fastboot --disable-verity --disable-verification flash vbmeta vbmeta.img
</span></span></code></pre></td></tr></table></div></div><p>Then, flash Android 12</p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>unxz system-squeak-arm64-ab-vndklite-floss-secure.img.xz
</span></span><span style=display:flex><span>fastboot flash system_a system-squeak-arm64-ab-vndklite-floss-secure.img
</span></span><span style=display:flex><span>fastboot set_active a
</span></span><span style=display:flex><span>fastboot erase userdata
</span></span></code></pre></td></tr></table></div></div><p><em>This would erase your data, make sure you format your phone through the
bootloader menu</em></p><h1 id=post-install>Post-Install</h1><h2 id=magisk>Magisk</h2><p>After sending the <code>boot.img</code> to the phone, install Magisk&rsquo;s App and patch the
bootloader by following the instructions in the app. After that, flash the
bootloader:</p><p><em>This would format the phone again</em></p><div class=highlight><div style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#686868">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#d0d0d0;background-color:#202020;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>fastboot flash boot magisk_patched.img
</span></span></code></pre></td></tr></table></div></div><p>Reinstall Magisk&rsquo;s App and reboot to complete setup.</p><h2 id=audio-fixes>Audio Fixes</h2><p><center><img alt=audio.webp src=https://ayham.xyz/pix/posts/android12-lima/audio.abd545ec11056d11607efbecb6353511.webp integrity="md5-q9VF7BEFbRFgfvvstjU1EQ==" crossorigin=anonymous></center></p><p>After installing, go to Settings -> phhtreble&rsquo;s Settings -> Misc features ->
check &ldquo;Use alternate&mldr;&rdquo; and &ldquo;Disable Audio effects&rdquo; in order to fix headphones
not being connected.</p></article></main><hr><footer><center><div class=footerTable><div style=display:block><p>Unique Visitors:
<a href=https://www.digits.net target=_blank rel=noopener><img src="https://counter.digits.net/?counter={f115c91c-b3dd-7584-456b-e7a9e52faa74}&template=simple" alt="Hit Counter by Digits" border=0></a></p><p><a href=https://ayham.xyz><img width=88 height=31 src=https://ayham.xyz/pix/webpins/ayhamxyz.6d7f8c95fb6135a73680ad01aa3b523e.gif crossorigin=anonymous integrity="md5-bX+MlfthNac2gK0BqjtSPg==" alt="ayham.xyz webpin"></a></p><p>Last Edited On: 2025-06-17</p></div><div style=display:block><small>CC-BY-SA - 2025</small><br><small><a href=/index.xml>Subscribe via RSS.</a></small><br><small><a href=https://ayham.xyz/details/>Website Details.</a></small>
<script data-goatcounter=https://ayham.goatcounter.com/count async src=//gc.zgo.at/count.js></script></div></div><center></footer></body></html>